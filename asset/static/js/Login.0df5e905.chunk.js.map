{"version":3,"sources":["core/network/index.tsx","core/network/interceptors/reques.tsx","core/network/interceptors/response.tsx","asset/sass/views/mall-login.module.scss","../node_modules/js-cookie/src/js.cookie.js","core/util/cookie.tsx","views/mall-login/index.tsx"],"names":["instance","axios","create","baseURL","window","location","origin","apiPost","CancelToken","url","params","arguments","length","undefined","post","Object","objectSpread","interceptors","request","use","config","toast_default","a","loading","error","Promise","reject","response","_ref","data","hide","res","bodyJson","message","concat","JSON","stringify","errorMessage","get_default","includes","status","fail","href","setTimeout","module","exports","container","tip","tip__message","tipMessage","tip__btn","tipBtn","login-content","loginContent","other-login","otherLogin","login-header","loginHeader","header__tip","headerTip","header__line","headerLine","login__application","loginApplication","application","application__tip","applicationTip","qqLoginBtn","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","call","__webpack_require__","OldCookies","Cookies","api","noConflict","extend","i","result","attributes","key","decode","s","replace","decodeURIComponent","init","converter","set","value","document","path","defaults","expires","Date","toUTCString","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","remove","withConverter","Login","state","account","accountError","password","passwordError","inputType","onLogin","_this$state","_this","history","props","isVaildAccount","accountVaild","isVaildPassword","passwordVaild","setState","phone","then","token","push","info","onAccountChange","isVaild","onAccountErrorClick","onPassWordChange","onPassWordErrorClick","onRegister","renderEye","react_default","createElement","className","onClick","_this$state2","this","Style","input_item_default","onChange","clear","placeholder","onErrorClick","type","maxLength","extra","wing_blank_default","size","button_default","React","Component","withRouter"],"mappings":"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","file":"static/js/Login.0df5e905.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { request, requestError } from \"@/core/network/interceptors/reques.tsx\";\nimport {\n  response,\n  responseError\n} from \"@/core/network/interceptors/response.tsx\";\n\nconst instance = axios.create({\n  baseURL: window.location.origin\n});\n\nconst CancelToken = axios.CancelToken;\n//暂时没想好要不要用cancelTotal\nexport const cancelTotal: object[] = [];\n\ninterface ICancelData {\n  url: string;\n  cancel?: any;\n}\n\nexport const apiGet = (url: string, params = {}) => {\n  let cancelData: ICancelData = {\n    url: \"\"\n  };\n  cancelData.url = url;\n  return instance.get(url, {\n    params,\n    cancelToken: new CancelToken(c => {\n      cancelData.cancel = c;\n      cancelTotal.push(cancelData);\n    })\n  });\n};\nexport const apiPost = (url: string, params = {}) => {\n  let cancelData: ICancelData = {\n    url: \"\"\n  };\n  cancelData.url = url;\n  return instance.post(url, {\n    ...params\n  });\n};\nexport const apiPut = (url: string, params = {}) => {\n  let cancelData: ICancelData = {\n    url: \"\"\n  };\n  cancelData.url = url;\n  return instance.put(url, {\n    ...params\n  });\n};\nexport const apiDelete = (url: string, params = {}) => {\n  let cancelData: ICancelData = {\n    url: \"\"\n  };\n  cancelData.url = url;\n  return instance.delete(url, {\n    ...params\n  });\n};\n\ninstance.interceptors.request.use(request, requestError);\ninstance.interceptors.response.use(response, responseError);\n\nexport default instance;\n","import { AxiosRequestConfig, AxiosError } from \"axios\";\nimport { Toast } from \"antd-mobile\";\nexport const request = (config: AxiosRequestConfig) => {\n  Toast.loading(\"loading...\", 0, () => {}, true);\n  return config;\n};\n\nexport const requestError = (error: AxiosError) => {\n  return Promise.reject(error);\n};\n","import { AxiosResponse, AxiosError } from \"axios\";\n// base ui comp\nimport { Toast } from \"antd-mobile\";\nimport { get } from \"lodash\";\nexport const response = ({ data }: AxiosResponse) => {\n  Toast.hide();\n  return data;\n};\n\nexport const responseError = (error: AxiosError) => {\n  if (error.response) {\n    let res = error.response;\n    const bodyJson = res.data;\n    // err 不是字符串\n    let message = `error: ${JSON.stringify(bodyJson)}`;\n\n    const errorMessage = get(res, \"bodyJson.errorMessage\");\n    if (errorMessage) {\n      message = `${errorMessage}`;\n    }\n\n    // 401\n    if ([401].includes(res.status)) {\n      // 跳转登录页面;\n      Toast.fail(\"无权限\");\n      window.location.href = \"/spa/login\";\n      setTimeout(() => {\n        Toast.hide();\n      }, 2000);\n      return;\n    }\n    // 404\n    if (res.status === 404) {\n      message = \"服务暂不可用. eror: 404\";\n    }\n    if (res.status === 500) {\n      message = \"服务暂不可用. eror: 500\";\n    }\n    if (res.status === 502) {\n      message = \"服务暂不可用. eror: 502\";\n    }\n    if (res.status === 504) {\n      message = \"请求超时. eror: 504\";\n    }\n\n    Toast.fail(`请求错误. error: ${message}`);\n  } else {\n    Toast.fail(\"请求错误\");\n  }\n\n  setTimeout(() => {\n    Toast.hide();\n  }, 2000);\n\n  throw error;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"mall-login_container__3ow34\",\"tip\":\"mall-login_tip__3RxM_\",\"tip__message\":\"mall-login_tip__message__3pNuW\",\"tipMessage\":\"mall-login_tip__message__3pNuW\",\"tip__btn\":\"mall-login_tip__btn__E-Rob\",\"tipBtn\":\"mall-login_tip__btn__E-Rob\",\"login-content\":\"mall-login_login-content__2Mpfj\",\"loginContent\":\"mall-login_login-content__2Mpfj\",\"other-login\":\"mall-login_other-login__395IF\",\"otherLogin\":\"mall-login_other-login__395IF\",\"login-header\":\"mall-login_login-header__T_LIj\",\"loginHeader\":\"mall-login_login-header__T_LIj\",\"header__tip\":\"mall-login_header__tip__2LVfS\",\"headerTip\":\"mall-login_header__tip__2LVfS\",\"header__line\":\"mall-login_header__line__Fca5e\",\"headerLine\":\"mall-login_header__line__Fca5e\",\"login__application\":\"mall-login_login__application__okT48\",\"loginApplication\":\"mall-login_login__application__okT48\",\"application\":\"mall-login_application__OWJlU\",\"application__tip\":\"mall-login_application__tip__35Pk_\",\"applicationTip\":\"mall-login_application__tip__35Pk_\",\"qqLoginBtn\":\"mall-login_qqLoginBtn__3Ygkw\"};","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;\n\n(function (factory) {\n  var registeredInModuleLoader;\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n    registeredInModuleLoader = true;\n  }\n\n  if (typeof exports === 'object') {\n    module.exports = factory();\n    registeredInModuleLoader = true;\n  }\n\n  if (!registeredInModuleLoader) {\n    var OldCookies = window.Cookies;\n    var api = window.Cookies = factory();\n\n    api.noConflict = function () {\n      window.Cookies = OldCookies;\n      return api;\n    };\n  }\n})(function () {\n  function extend() {\n    var i = 0;\n    var result = {};\n\n    for (; i < arguments.length; i++) {\n      var attributes = arguments[i];\n\n      for (var key in attributes) {\n        result[key] = attributes[key];\n      }\n    }\n\n    return result;\n  }\n\n  function decode(s) {\n    return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n  }\n\n  function init(converter) {\n    function api() {}\n\n    function set(key, value, attributes) {\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      attributes = extend({\n        path: '/'\n      }, api.defaults, attributes);\n\n      if (typeof attributes.expires === 'number') {\n        attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n      } // We're using \"expires\" because \"max-age\" is not supported by IE\n\n\n      attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n      try {\n        var result = JSON.stringify(value);\n\n        if (/^[\\{\\[]/.test(result)) {\n          value = result;\n        }\n      } catch (e) {}\n\n      value = converter.write ? converter.write(value, key) : encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n      key = encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\\(\\)]/g, escape);\n      var stringifiedAttributes = '';\n\n      for (var attributeName in attributes) {\n        if (!attributes[attributeName]) {\n          continue;\n        }\n\n        stringifiedAttributes += '; ' + attributeName;\n\n        if (attributes[attributeName] === true) {\n          continue;\n        } // Considers RFC 6265 section 5.2:\n        // ...\n        // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n        //     character:\n        // Consume the characters of the unparsed-attributes up to,\n        // not including, the first %x3B (\";\") character.\n        // ...\n\n\n        stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n      }\n\n      return document.cookie = key + '=' + value + stringifiedAttributes;\n    }\n\n    function get(key, json) {\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      var jar = {}; // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all.\n\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var i = 0;\n\n      for (; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var cookie = parts.slice(1).join('=');\n\n        if (!json && cookie.charAt(0) === '\"') {\n          cookie = cookie.slice(1, -1);\n        }\n\n        try {\n          var name = decode(parts[0]);\n          cookie = (converter.read || converter)(cookie, name) || decode(cookie);\n\n          if (json) {\n            try {\n              cookie = JSON.parse(cookie);\n            } catch (e) {}\n          }\n\n          jar[name] = cookie;\n\n          if (key === name) {\n            break;\n          }\n        } catch (e) {}\n      }\n\n      return key ? jar[key] : jar;\n    }\n\n    api.set = set;\n\n    api.get = function (key) {\n      return get(key, false\n      /* read as raw */\n      );\n    };\n\n    api.getJSON = function (key) {\n      return get(key, true\n      /* read as json */\n      );\n    };\n\n    api.remove = function (key, attributes) {\n      set(key, '', extend(attributes, {\n        expires: -1\n      }));\n    };\n\n    api.defaults = {};\n    api.withConverter = init;\n    return api;\n  }\n\n  return init(function () {});\n});","import cookie from \"js-cookie\";\n\nexport default cookie;\n","import React from \"react\";\n// base ui comp\nimport { InputItem, Button, WingBlank, Toast } from \"antd-mobile\";\n//\nimport { withRouter, RouteComponentProps } from 'react-router'\n// scss\nimport Style from \"@/asset/sass/views/mall-login.module.scss\";\n// network\nimport { apiPost } from \"@/core/network\"; \n// util\nimport cookie from \"@/core/util/cookie\";       \n     \ntype ContainerProps = RouteComponentProps<any> & {}\n\ninterface ContainerState { \n  account: string,\n  accountError: boolean,\n  password: string, \n  passwordError: boolean,\n  inputType: any\n}  \n\n\nclass Login extends React.Component<ContainerProps, ContainerState> {\n  state = {\n    account: \"\",\n    accountError: false,\n    password: \"\",\n    passwordError: false,\n    inputType: 'password'\n  }\n  onLogin = () => {\n    let { account, password } = this.state;\n    let { history } = this.props;\n    let isVaildAccount =  this.accountVaild(account);\n    let isVaildPassword =  this.passwordVaild(password);\n    if(!isVaildAccount || !isVaildPassword){\n      if(!isVaildAccount) this.setState({\n        accountError: true\n      });\n      if(!isVaildPassword) this.setState({\n        passwordError: true\n      });\n      return;\n    }\n    apiPost(\"/api/login\", \n      {\n        phone: account,\n        password   \n      }\n    ).then((res: any) => {\n      if(res){\n        let { status, message } = res\n        if(status == 2){\n          cookie.set('phone', account, { expires: 7, path: '' });\n          cookie.set('sessionToken', res.token, { expires: 7, path: '' });\n          history.push('/shopping')\n        }\n        Toast.info(message);\n      }\n    });\n  }\n  accountVaild = (value: string): boolean => {\n    let regExp: RegExp = /^1[3456789]\\d{9}$/;    \n    return regExp.test(value);\n  }\n  onAccountChange = (value: string): void => {\n    let isVaild = this.accountVaild(value);\n    this.setState({\n      accountError: !isVaild,\n    });\n  \n    this.setState({\n      account: value\n    });\n  }\n  onAccountErrorClick = () => {\n    Toast.info('请输入规范手机号');\n  }\n  passwordVaild = (value: string): boolean => {\n    let regExp: RegExp = /\\d{6,12}$/;\n    return regExp.test(value);\n  }\n  onPassWordChange = (value: string): void => {\n    let isVaild = this.passwordVaild(value);\n    this.setState({\n      passwordError: !isVaild,\n    });\n    this.setState({\n      password: value\n    });\n  }\n  onPassWordErrorClick = () => {\n    Toast.info('请输入6到12位密码');\n  }\n  onRegister = () => {\n    this.props.history.push('/register')\n  } \n  renderEye = () => {\n    return (\n      <div className=\"icon-99\" onClick={() => {\n        let { inputType } = this.state;\n        this.setState({\n          inputType: inputType == 'password' ? 'text' : 'password'\n        })\n      }}></div>\n    )\n  }\n  render() {\n    let { accountError, passwordError, inputType } = this.state;\n    return ( \n      <div className={Style.container}>     \n        <form>\n          <div className={Style.tip}>\n            <span className={Style.tip__message}>没有账号？</span>\n            <span className={Style.tip__btn} onClick={this.onRegister}>申请</span>\n          </div>\n          <div className={Style['loginContent']}>\n            <InputItem\n              error={accountError}\n              onChange={this.onAccountChange}\n              clear\n              placeholder=\"手机号/邮箱\"\n              onErrorClick={this.onAccountErrorClick}\n            >\n              <span className=\"fz20\">账号</span>\n            </InputItem>\n            <InputItem\n              error={passwordError}\n              onChange={this.onPassWordChange}\n              placeholder=\"请输入6-20位密码\"\n              type={inputType as any}\n              maxLength={20}\n              clear\n              extra={this.renderEye()}\n              onErrorClick={this.onPassWordErrorClick}\n            >\n              <span className=\"fz20\">密码</span>\n            </InputItem>\n            <WingBlank size=\"lg\">\n              <Button\n                onClick={this.onLogin}\n                type=\"primary\"\n                size=\"large\"\n                className=\"mt30\"\n              >        \n              登录\n              </Button>\n            </WingBlank>\n          </div>\n        </form>    \n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n"],"sourceRoot":""}