(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{133:function(e,r,t){"use strict";var a=t(6),n=t(127),o=t.n(n),i=(t(91),t(92)),s=t.n(i),c=t(161),l=t.n(c);t.d(r,"a",function(){return u});var _=o.a.create({baseURL:window.location.origin}),u=(o.a.CancelToken,function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.post(e,Object(a.a)({},r))});_.interceptors.request.use(function(e){return s.a.loading("loading...",0,function(){},!0),e},function(e){return Promise.reject(e)}),_.interceptors.response.use(function(e){var r=e.data;return s.a.hide(),r},function(e){if(e.response){var r=e.response,t=r.data,a="error: ".concat(JSON.stringify(t)),n=l()(r,"bodyJson.errorMessage");if(n&&(a="".concat(n)),[401].includes(r.status))return s.a.fail("\u65e0\u6743\u9650"),window.location.href="/spa/login",void setTimeout(function(){s.a.hide()},2e3);404===r.status&&(a="\u670d\u52a1\u6682\u4e0d\u53ef\u7528. eror: 404"),500===r.status&&(a="\u670d\u52a1\u6682\u4e0d\u53ef\u7528. eror: 500"),502===r.status&&(a="\u670d\u52a1\u6682\u4e0d\u53ef\u7528. eror: 502"),504===r.status&&(a="\u8bf7\u6c42\u8d85\u65f6. eror: 504"),s.a.fail("\u8bf7\u6c42\u9519\u8bef. error: ".concat(a))}else s.a.fail("\u8bf7\u6c42\u9519\u8bef");throw setTimeout(function(){s.a.hide()},2e3),e})},323:function(e,r,t){e.exports={container:"mall-register_container__3As3D","login-content":"mall-register_login-content__2v4he",loginContent:"mall-register_login-content__2v4he","other-login":"mall-register_other-login__2KW6o",otherLogin:"mall-register_other-login__2KW6o","login-header":"mall-register_login-header__ueHyb",loginHeader:"mall-register_login-header__ueHyb",header__tip:"mall-register_header__tip__2z8Zz",headerTip:"mall-register_header__tip__2z8Zz",header__line:"mall-register_header__line__2-IEV",headerLine:"mall-register_header__line__2-IEV",login__application:"mall-register_login__application__28XdP",loginApplication:"mall-register_login__application__28XdP",application:"mall-register_application__3F_qx",application__tip:"mall-register_application__tip__2Oxa2",applicationTip:"mall-register_application__tip__2Oxa2",qqLoginBtn:"mall-register_qqLoginBtn__PfEnv"}},63:function(e,r,t){"use strict";t.r(r);t(111);var a=t(112),n=t.n(a),o=(t(153),t(155)),i=t.n(o),s=(t(157),t(158)),c=t.n(s),l=(t(91),t(92)),_=t.n(l),u=t(73),p=t(75),d=t(77),g=t(76),h=t(78),f=t(0),m=t.n(f),E=t(328),w=t(323),v=t.n(w),C=t(133),b=function(e){function r(){var e,t;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(g.a)(r)).call.apply(e,[this].concat(n)))).state={account:"",accountError:!1,password:"",passwordError:!1},t.onRegister=function(){var e=t.state,r=e.account,a=e.password,n=t.accountVaild(r),o=t.passwordVaild(a);if(!n||!o)return n||t.setState({accountError:!0}),void(o||t.setState({passwordError:!0}));Object(C.a)("/api/register",{phone:r,password:a}).then(function(e){if(e){var r=e.message,a=e.status;_.a.info(r),2===a&&t.props.history.push("/login")}})},t.accountVaild=function(e){return/^1[3456789]\d{9}$/.test(e)},t.onAccountChange=function(e){var r=t.accountVaild(e);t.setState({accountError:!r}),t.setState({account:e})},t.onAccountErrorClick=function(){_.a.info("\u8bf7\u8f93\u5165\u89c4\u8303\u624b\u673a\u53f7")},t.passwordVaild=function(e){return/\d{6,12}$/.test(e)},t.onPassWordChange=function(e){var r=t.passwordVaild(e);t.setState({passwordError:!r}),t.setState({password:e})},t.onPassWordErrorClick=function(){_.a.info("\u8bf7\u8f93\u51656\u523012\u4f4d\u5bc6\u7801")},t}return Object(h.a)(r,e),Object(p.a)(r,[{key:"render",value:function(){var e=this.state,r=e.accountError,t=e.passwordError;return m.a.createElement("div",{className:v.a.container},m.a.createElement("form",null,m.a.createElement("div",{className:v.a.loginContent},m.a.createElement(c.a,{error:r,onChange:this.onAccountChange,clear:!0,placeholder:"\u624b\u673a\u53f7/\u90ae\u7bb1",onErrorClick:this.onAccountErrorClick},m.a.createElement("span",{className:"fz20"},"\u8d26\u53f7")),m.a.createElement(c.a,{error:t,onChange:this.onPassWordChange,placeholder:"\u8bf7\u8f93\u51656-20\u4f4d\u5bc6\u7801",type:"password",maxLength:20,clear:!0,onErrorClick:this.onPassWordErrorClick},m.a.createElement("span",{className:"fz20"},"\u5bc6\u7801")),m.a.createElement(n.a,{size:"lg"},m.a.createElement(i.a,{onClick:this.onRegister,type:"primary",size:"large",className:"mt30"},"\u6ce8\u518c")))))}}]),r}(m.a.Component);r.default=Object(E.a)(b)}}]);
//# sourceMappingURL=Register.b344864d.chunk.js.map